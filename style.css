:root{
  --bg-1: #0b1220;
  --bg-2: #102032;
  --panel: rgba(255,255,255,0.03);
  --muted: rgba(255,255,255,0.6);
  --glass-border: 1px solid rgba(255,255,255,0.04);
  --accent-grad: linear-gradient(135deg,#ff5a7a,#ff8fb3);
  --success-grad: linear-gradient(135deg,#4ade80,#22c55e);
  --warning-grad: linear-gradient(135deg,#facc15,#eab308);
  --radius: 14px;
  --shadow: 0 12px 40px rgba(2,6,23,0.7);
  --glass-soft: rgba(255,255,255,0.02);
  --padding: 14px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#fff;-webkit-font-smoothing:antialiased}
a{color:inherit}
#auth-container {
  max-width:460px;margin:40px auto;padding:22px;border-radius:16px;background:var(--panel);border:var(--glass-border);box-shadow:var(--shadow);text-align:center;
}
.logo{font-weight:800;letter-spacing:1px;margin-bottom:8px;font-size:20px;background:var(--accent-grad);-webkit-background-clip:text;background-clip:text;color:transparent}
input, select, textarea {
  width:100%;padding:12px;border-radius:10px;border:none;background:rgba(255,255,255,0.02);color:#fff;margin:8px 0;outline:none;font-size:15px;
}
input:focus{background:rgba(255,255,255,0.04);box-shadow:0 0 20px rgba(255,111,145,0.12)}
button{
  border:0;padding:10px 14px;border-radius:10px;background:var(--accent-grad);color:#fff;font-weight:800;cursor:pointer;transition:transform .14s ease,box-shadow .14s ease;
  box-shadow:0 8px 26px rgba(255,111,145,0.12);
}
button:hover{transform:translateY(-1px);box-shadow:0 12px 30px rgba(255,111,145,0.18)}
button:active{transform:translateY(1px)}
button:disabled{opacity:0.5;cursor:not-allowed;transform:none}
.auth-row{display:flex;gap:10px;justify-content:center;margin-top:6px}
#auth-message{margin-top:10px;color:var(--muted)}
#game-container{
  max-width:1400px;margin:28px auto;padding:18px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:var(--shadow);border:var(--glass-border);
}
#top-bar{display:flex;justify-content:space-between;align-items:center;padding:8px 4px 18px;border-bottom:1px solid rgba(255,255,255,0.03)}
#player-block{display:flex;flex-direction:column}
#player-name{font-size:18px;font-weight:800}
#equip-info{font-size:13px;color:var(--muted);margin-top:4px}
#stats-info{font-size:13px;color:#4ade80;margin-top:4px;font-weight:600}
#top-actions{display:flex;align-items:center;gap:8px}
#main-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:18px; margin-top:18px; align-items:start; }
.card { padding:var(--padding); border-radius:var(--radius); background:var(--panel); border:var(--glass-border); min-height:160px; position:relative; }
.card:hover{background:rgba(255,255,255,0.035);border:1px solid rgba(255,255,255,0.06)}
h2 { margin:0 0 8px 0; font-size:16px; }
.small { font-size:13px; color:var(--muted); margin:8px 0; }
#slot-window { 
  height:120px; background:rgba(0,0,0,0.14); border-radius:12px; overflow:hidden; 
  display:flex; align-items:center; justify-content:center; border:1px solid rgba(255,255,255,0.03); 
  position:relative; 
}
#multiplier-display{
  position:absolute;top:8px;right:8px;background:var(--warning-grad);color:#000;padding:4px 8px;
  border-radius:6px;font-weight:800;font-size:12px;
}
#slot-reel { width:100%; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; transform:translateY(0); transition: transform 200ms linear; }
.slot-item { 
  width:92%; margin:6px 0; padding:12px; border-radius:10px; 
  background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.008)); 
  display:flex; align-items:center; justify-content:center; font-weight:800; letter-spacing:.2px; 
  transition:all 0.2s ease;
}
.slot-item.legendary{background:linear-gradient(135deg,rgba(255,215,107,0.1),rgba(255,184,77,0.05));box-shadow:0 0 20px rgba(255,215,107,0.2)}
.slot-item.epic{background:linear-gradient(135deg,rgba(195,123,255,0.1),rgba(139,58,255,0.05));box-shadow:0 0 15px rgba(195,123,255,0.15)}
.slot-item.rare{background:linear-gradient(135deg,rgba(105,185,255,0.1),rgba(49,140,255,0.05));box-shadow:0 0 12px rgba(105,185,255,0.12)}
#roll-controls { display:flex; flex-direction:column; align-items:center; margin-top:12px; gap:10px; }
#mega-roll-btn{background:var(--warning-grad);color:#000}
#roll-result { min-height:44px; padding:10px 12px; border-radius:10px; background:rgba(255,255,255,0.02); width:100%; text-align:center; font-weight:700; }
.filter-input{margin:8px 0;padding:8px;font-size:14px;background:rgba(255,255,255,0.015)}
#inventory-count{color:var(--muted);font-weight:400;font-size:14px}
ul { list-style:none; padding:0; margin:10px 0; max-height:260px; overflow:auto; border-radius:10px; }
li { 
  display:flex; align-items:center; gap:12px; padding:10px; border-radius:10px; margin:6px 0; 
  background:rgba(255,255,255,0.01); cursor:pointer; transition: transform .12s ease, box-shadow .12s ease;
  border:1px solid transparent;
}
li:hover{ transform:translateY(-3px); box-shadow:0 8px 18px rgba(2,6,23,0.6); }
li.selected{ 
  outline:2px solid rgba(255,255,255,0.06); box-shadow:0 12px 30px rgba(228,63,90,0.12); 
  transform:scale(1.02); background:rgba(255,255,255,0.025);
}
.badge { width:18px; height:18px; border-radius:50%; flex:0 0 18px; display:inline-block; box-shadow:0 0 10px rgba(0,0,0,0.4); }
.item-common .badge { background:linear-gradient(180deg,#a0a0a0,#808080); box-shadow:0 0 8px rgba(160,160,160,0.12); }
.item-rare .badge { background:linear-gradient(180deg,#69b9ff,#318cff); box-shadow:0 0 10px rgba(52,156,255,0.18); }
.item-epic .badge { background:linear-gradient(180deg,#c37bff,#8b3aff); box-shadow:0 0 12px rgba(180,80,255,0.22); }
.item-legendary .badge { background:linear-gradient(180deg,#ffd76b,#ffb84d); box-shadow:0 0 16px rgba(255,200,80,0.28); }
.rarity-label { font-size:13px; color:var(--muted); margin-left:auto; padding:4px 8px; border-radius:8px; background:rgba(255,255,255,0.02); }
.panel-row { display:flex; gap:8px; justify-content:space-between; margin-top:10px; flex-wrap:wrap; }
.panel-row button{font-size:13px;padding:8px 12px}
#sell-btn{background:var(--success-grad);color:#000}
#fusion-btn{background:linear-gradient(135deg,#a855f7,#7c3aed);color:#fff}
#trade-tabs{display:flex;gap:4px;margin-bottom:12px}
.tab-btn{
  background:rgba(255,255,255,0.02);color:var(--muted);border:1px solid rgba(255,255,255,0.04);
  padding:8px 12px;font-size:13px;font-weight:600;
}
.tab-btn.active{background:var(--accent-grad);color:#fff}
.tab-content{display:none}
.tab-content.active{display:block}
#market-listings{
  max-height:120px;overflow:auto;background:rgba(0,0,0,0.1);border-radius:8px;
  padding:8px;margin:8px 0;
}
.market-item{
  display:flex;justify-content:space-between;align-items:center;padding:6px 8px;
  background:rgba(255,255,255,0.01);border-radius:6px;margin:4px 0;
}
#list-price{width:60%;margin:0}
#chat-box { height:170px; overflow:auto; padding:10px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); }
.chat-message { opacity:0; transform:translateY(6px); animation:msgIn .22s ease forwards; margin:6px 0; padding:6px 8px; border-radius:8px; }
.system { color:#ffd76b; font-weight:700; background:rgba(255,215,107,0.06); }
.msg-user { color:#fff; background:rgba(255,255,255,0.02); }
.msg-time { font-size:11px; color:var(--muted); margin-left:8px; }
.flying-clone { 
  position:fixed; z-index:9999; pointer-events:none; border-radius:10px; padding:10px 14px; 
  font-weight:800; opacity:0.95; transform-origin:center; 
  transition: transform 650ms cubic-bezier(.2,.8,.25,1), opacity 400ms ease; 
}
.hint { color:var(--muted); font-size:13px; margin-top:8px; text-align:center; }
.small-muted { font-size:12px; color:rgba(255,255,255,0.6); margin-top:8px; }
.extra-top-btn { 
  margin-left:10px; background:transparent; border:1px solid rgba(255,255,255,0.06); 
  padding:8px 10px; border-radius:10px; font-weight:700; cursor:pointer; color:inherit;
  transition:all 0.2s ease;
}
.extra-top-btn:hover{background:rgba(255,255,255,0.03);border-color:rgba(255,255,255,0.1)}
.modal-backdrop { 
  position:fixed; inset:0; background:rgba(0,0,0,0.6); display:flex; 
  align-items:center; justify-content:center; z-index:10020; 
}
.modal-content { 
  width:420px; background:rgba(10,10,20,0.98); padding:20px; border-radius:12px; 
  border:1px solid rgba(255,255,255,0.04); box-shadow:0 18px 40px rgba(2,6,23,0.7);
  max-height:80vh;overflow:auto;
}
.modal-content h2{margin:0 0 16px 0;color:#fff}
.shop-item,.quest-item{
  background:rgba(255,255,255,0.02);border-radius:8px;padding:12px;margin:8px 0;
  display:flex;justify-content:space-between;align-items:center;
  transition:background 0.2s ease;
}
.shop-item:hover,.quest-item:hover{background:rgba(255,255,255,0.04)}
.quest-complete{background:rgba(34,197,94,0.1);border:1px solid rgba(34,197,94,0.2)}
#fusion-slots{
  display:flex;gap:12px;margin:16px 0;justify-content:center;
}
.fusion-slot{
  width:80px;height:80px;border:2px dashed rgba(255,255,255,0.2);
  border-radius:12px;display:flex;align-items:center;justify-content:center;
  font-size:12px;color:var(--muted);text-align:center;cursor:pointer;
  transition:all 0.2s ease;
}
.fusion-slot.filled{
  border-color:rgba(255,255,255,0.4);background:rgba(255,255,255,0.02);
}
.fusion-slot:hover{border-color:rgba(255,111,145,0.5)}
.level-up-badge { 
  position:absolute; right:18px; top:10px; padding:6px 10px; 
  background: linear-gradient(135deg,#ffd76b,#ffb84d); color:#111; border-radius:10px; 
  font-weight:900; box-shadow:0 12px 30px rgba(255,180,60,0.12); transform-origin:center; 
  animation: popLevel 900ms cubic-bezier(.2,.9,.25,1); 
}
@keyframes popLevel { 0% { transform:scale(.2); opacity:0 } 60% { transform:scale(1.08); opacity:1 } 100% { transform:scale(1); opacity:1 } }
@keyframes msgIn { to { opacity:1; transform:none } }
@keyframes glow { 0%,100%{box-shadow:0 0 5px rgba(255,215,107,0.3)} 50%{box-shadow:0 0 20px rgba(255,215,107,0.6)} }
.legendary-glow{animation:glow 2s ease-in-out infinite}
@media (max-width:1200px){ #main-grid { grid-template-columns: repeat(3, 1fr); gap:12px; } }
@media (max-width:980px){ #main-grid { grid-template-columns: repeat(2, 1fr); gap:12px; } }
@media (max-width:680px){ #main-grid { grid-template-columns: 1fr; gap:12px; } #auth-container { margin:14px; } }